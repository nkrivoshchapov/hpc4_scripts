1. Добавьте путь к скриптам в PATH:

 export PATH=$PATH:/s/ls4/groups/g0130/knv_bin

2. Определитесь с количеством нодов, на которых будут идти расчеты (флаг '''-N'''), и количеством одновременных расчетов на одном ноде (флаг '''--cpn''', calculations per node). Запустите расчет, пользуясь примерами из таблицы.

{| class="wikitable"
|+ Примеры вызовов скрипта rungmpi
|-
! Команда !! Раздел (версия g16) !! Количество нодов !! Количество параллельных расчетов !! %nprocs=
|-
| '''''rungmpi ./*.gjf -N 10'''''  || hpc4-3d (sse) || 10 || 9 || 24
|-
| '''''rungmpi ./*.gjf -N 10 --cpn 4''''' || hpc4-3d (sse) || 10 || 39 || 6
|-
| rungmpi ./*.gjf -N 10 --mt || hpc4-3d (sse) || 10 || 9 || 48
|-
| rungmpi ./*.gjf -N 10 --gpu || hpc5-gpu-3d (avx)|| 10 || 9 || 8
|-
| rungmpi ./*.gjf -N 10 --gpu --mt || hpc5-gpu-3d (avx)|| 10 || 9 || 16
|}
''Тот, кто торопится поставить расчет, может просто взять одну из строчек, выделенных'' '''''жирным курсивом'''''.

Список доступных флагов: <br>
'''-j''' - название задачи в SLURM; <br>
'''-N''' - количество занимаемых нодов; <br>
'''--cpn''' - количество одновременных расчетов на одном ноде;<br>
'''--gpu''' - переключение на раздел hpc5-gpu-3d (для экономии на времени ожидания, если hpc4-3d занят); <br>
'''--mt''' - постановка расчетов с учетом multi-threading, то есть удвоение всех чисел в секции '''%nprocs'''.

Считается, что все переданные аргументы, не относящиеся к вышеперечисленным флагам - это информация о gjf-файлах, передаваемая в одном из трех видов:

1) Просто имена инпут-файлов. Например,

 rungmpi file1.gjf file2.gjf file3.gjf -N 2 --cpn 2

2) Маски со ? и *

 rungmpi reagent_*.gjf product_*.gjf -N 10

3) *.dat-файлы, содержащие в себе список имен gjf-файлов:

 rungmpi do_calc.dat -N 2 --cpn 2

Где содержимое файла do_calc.dat - это

 file1.gjf 
 file2.gjf 
 file3.gjf

Обратите внимание, что 

1) rungmpi сам поставит (перезапишет) нужное число потоков в секции '''%nprocs''';

2) место одного расчета выделяется под поток, отвечающий за распределение задач.
